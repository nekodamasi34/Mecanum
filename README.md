# メカナムホイールの制御(PID,エンコーダー)

左/右回転モードを実装。
回転しながら動ける....はず

できるだけ見やすい/わかりやすいように書いたので後から訳わからなくなることはないと信じたい。

なおコントローラー側は~~めんどくさいので~~まだ作っていない。

基本的にSerialBridgeを使用しての通信を想定しています。

~~おびただしい量(15/105)のエラーをはいているのでまだ使えない(7/11現在)~~ 修正済み(8/5)

## 使用方法(デフォルトの値)

### 設定項目

```
// PIDゲイン調整 {kp(比例), ki(積分), kd(微分)}
PID pid_0(1.0, 0.1, 0.05);
PID pid_1(1.0, 0.1, 0.05);
PID pid_2(1.0, 0.1, 0.05);
PID pid_3(1.0, 0.1, 0.05);

// PID用周期調整 (ここを変えるならmainの最後の行も変える)
double DELTA_T = 0.01;

// エンコーダーの制御ピン (a, b)
Encoder encoder_0(A0, D0);
Encoder encoder_1(A1, D1);
Encoder encoder_2(A2, D2);
Encoder encoder_3(A3, D3);

// MDの制御ピン (pwmピン, dirピン, 逆転モード)
MD md_0(PA_0, PA_4, 0);
MD md_1(PA_1, PA_5, 0);
MD md_2(PA_2, PA_6, 0);
MD md_3(PA_3, PA_7, 0);
```

## 進捗

7/10 pidなど
8/5 ほぼ完成

+todo コントローラー

